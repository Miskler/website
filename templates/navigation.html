<aside class="navigation" id="navigation">
    <ul class="nav-list">
        {% for item in navigation %}
            <li class="nav-item">
                <a href="{{ item.link }}" class="nav-link">
                    <div>
                        {% if item.icon %}
                        {% include item.icon %}
                        {% endif %}
                        <span class="title">{{ item.title }}</span>
                    </div>
                    <span class="description">{{ item.description }}</span>
                </a>
                {% if item.children %}
                    <ul class="sub-nav">
                        {% for child in item.children %}
                            <li class="nav-item">
                                <a href="{{ child.link }}" class="nav-link">
                                    <div>
                                        {% if child.icon %}
                                        {% include child.icon %}
                                        {% endif %}
                                        <span class="title">{{ child.title }}</span>
                                    </div>
                                    <span class="description">{{ child.description }}</span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
    <div class="hover-bar" id="hover-bar"></div>
    <button id="theme-toggle" class="switch">
        Toggle Theme
    </button>
</aside>

<script>
const nav = document.getElementById('navigation');
const hoverBar = document.getElementById('hover-bar');

document.querySelectorAll('.nav-link').forEach(item => {
    item.addEventListener('mouseenter', () => {
        const itemRect = item.getBoundingClientRect();
        const navRect = nav.getBoundingClientRect();

        hoverBar.style.top = (itemRect.top - navRect.top) + 'px';
        hoverBar.style.height = itemRect.height + 'px';
        hoverBar.style.opacity = 1;
    });
});

nav.addEventListener('mouseleave', () => {
    hoverBar.style.opacity = 0;
});

</script>